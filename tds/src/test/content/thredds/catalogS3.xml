<?xml version="1.0" encoding="UTF-8"?>
<catalog name="S3 Test Catalog"
  xmlns="http://www.unidata.ucar.edu/namespaces/thredds/InvCatalog/v1.0"
  xmlns:ncml="http://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2" version="1.2">

  <datasetRoot path="s3-test" location="cdms3:thredds-test-data"/>
  <dataset name="S3 Dataset" ID="S3Dataset"
    urlPath="s3-test/ncml/nc/namExtract/20060925_0600.nc"
    dataType="Grid"
    serviceName="all"/>

  <dataset name="S3 Example NcML Aggregation" ID="S3ExampleNcMLAgg" urlPath="S3ExampleNcML/Agg.nc">
    <serviceName>all</serviceName>
    <dataType>Grid</dataType>
    <ncml:netcdf xmlns="http://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2">
      <attribute name="ncmlAdded" value="stuff"/>
      <variable name="lat">
        <attribute name="ncmlAdded" value="lat_stuff"/>
      </variable>
      <aggregation dimName="time" type="joinExisting" timeUnitsChange="true">
        <netcdf location="cdms3:thredds-test-data?ncml/nc/namExtract/20060925_0600.nc" ncoords="2"/>
        <netcdf location="cdms3:thredds-test-data?ncml/nc/namExtract/20060925_1200.nc" ncoords="2"/>
        <netcdf location="cdms3:thredds-test-data?ncml/nc/namExtract/20060925_1800.nc" ncoords="2"/>
        <netcdf location="cdms3:thredds-test-data?ncml/nc/namExtract/20060926_0000.nc" ncoords="2"/>
      </aggregation>
    </ncml:netcdf>
  </dataset>

  <featureCollection featureType="GRIB1" name="Local Feature Collection" path="LocalGribCollection">
    <metadata inherited="true">
      <serviceName>all</serviceName>
    </metadata>
    <collection
      spec="${cdmUnitTest}/ncss/GFS/CONUS_80km/GFS_CONUS_80km_#yyyyMMdd_HHmm#\.grib1$"
      timePartition="file"/>
    <update startup="nocheck"/>
    <tdm rewrite="test" rescan="0 0/5 * * * ? *"/>
    <gribConfig datasetTypes="Best LatestFile Files"/>
  </featureCollection>

  <featureCollection featureType="GRIB1" name="S3 Feature Collection" path="S3GribCollection">
    <metadata inherited="true">
      <serviceName>all</serviceName>
    </metadata>
    <collection
      spec="cdms3:thredds-test-data?ncss/GFS/CONUS_80km/GFS_CONUS_80km_#yyyyMMdd_HHmm#\.grib1$"
      timePartition="file"/>
    <update startup="nocheck"/>
    <tdm rewrite="test" rescan="0 0/5 * * * ? *"/>
    <gribConfig datasetTypes="Best LatestFile Files"/>
  </featureCollection>

  <featureCollection featureType="GRIB1" name="S3 Feature Collection With One Folder" path="S3GribCollectionOneFolder">
    <metadata inherited="true">
      <serviceName>all</serviceName>
    </metadata>
    <collection
      spec="cdms3:thredds-test-data?CONUS_80km/GFS_CONUS_80km_#yyyyMMdd_HHmm#\.grib1$"
      timePartition="file"/>
    <update startup="nocheck"/>
    <tdm rewrite="test" rescan="0 0/5 * * * ? *"/>
    <gribConfig datasetTypes="Best LatestFile Files"/>
  </featureCollection>

  <featureCollection featureType="GRIB1" name="S3 Feature Collection Without Folders" path="S3GribCollectionNoFolders">
    <metadata inherited="true">
      <serviceName>all</serviceName>
    </metadata>
    <collection
      spec="cdms3:thredds-test-data?GFS_CONUS_80km_#yyyyMMdd_HHmm#\.grib1$"
      timePartition="file"/>
    <update startup="nocheck"/>
    <tdm rewrite="test" rescan="0 0/5 * * * ? *"/>
    <gribConfig datasetTypes="Best LatestFile Files"/>
  </featureCollection>
</catalog>
